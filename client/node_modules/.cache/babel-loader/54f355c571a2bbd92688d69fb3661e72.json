{"ast":null,"code":"var _jsxFileName = \"/Users/simmone/brainstation/simmone-kelly-brainflix-app/src/components/3-Below-Video/2-Comments-Section/CommentsSection.js\";\nimport React, { Component } from 'react';\nimport PostedComments from './PostedComments';\nimport './comment-section.scss';\nimport CommentsForm from './CommentsForm';\nimport avatar from '../../../assets/images/Mohan-muruge.jpg';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class CommentsSection extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      videoComments: []\n    };\n  }\n\n  fetchVideoComments(id) {\n    axios.get('https://project-2-api.herokuapp.com/videos/' + id + '?api_key=' + this.props.apiKey).then(results => {\n      this.setState({\n        videoComments: results.data.comments\n      });\n    });\n  }\n\n  componentDidMount() {\n    console.log('comments did mount');\n    this.fetchVideoComments(this.props.currentVideo);\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    console.log('comments did update');\n    console.log(prevProps);\n    console.log(prevState);\n    console.log('currentvideo prop ' + this.props.currentVideo);\n    console.log('currentmatch prop ' + this.props.routerProps.match.params.id); //console.log(prevState)\n\n    if (this.props.routerProps.match.params.id === this.props.currentVideo) {\n      console.log('id matches'); //this.fetchVideoComments(this.props.currentVideo)\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"comments\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"comment-total\",\n        children: [this.state.videoComments.length, \" Comments\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(CommentsForm, {\n        formAvatar: avatar\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 17\n      }, this), this.state.videoComments.map((element, index) => /*#__PURE__*/_jsxDEV(PostedComments, {\n        videoComments: element\n      }, 'comments' + index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 21\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["/Users/simmone/brainstation/simmone-kelly-brainflix-app/src/components/3-Below-Video/2-Comments-Section/CommentsSection.js"],"names":["React","Component","PostedComments","CommentsForm","avatar","axios","CommentsSection","state","videoComments","fetchVideoComments","id","get","props","apiKey","then","results","setState","data","comments","componentDidMount","console","log","currentVideo","componentDidUpdate","prevProps","prevState","routerProps","match","params","render","length","map","element","index"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,cAAP,MAA2B,kBAA3B;AACA,OAAO,wBAAP;AACA,OAAOC,YAAP,MAAyB,gBAAzB;AACA,OAAOC,MAAP,MAAmB,yCAAnB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,eAAe,MAAMC,eAAN,SAA8BL,SAA9B,CAAwC;AAAA;AAAA;AAAA,SACnDM,KADmD,GAC3C;AACJC,MAAAA,aAAa,EAAE;AADX,KAD2C;AAAA;;AAKnDC,EAAAA,kBAAkB,CAACC,EAAD,EAAK;AACnBL,IAAAA,KAAK,CAACM,GAAN,CAAU,gDAAgDD,EAAhD,GAAqD,WAArD,GAAmE,KAAKE,KAAL,CAAWC,MAAxF,EACCC,IADD,CACMC,OAAO,IAAI;AACb,WAAKC,QAAL,CAAc;AACVR,QAAAA,aAAa,EAAEO,OAAO,CAACE,IAAR,CAAaC;AADlB,OAAd;AAGH,KALD;AAMH;;AAEDC,EAAAA,iBAAiB,GAAG;AAChBC,IAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ;AACA,SAAKZ,kBAAL,CAAwB,KAAKG,KAAL,CAAWU,YAAnC;AACH;;AAEDC,EAAAA,kBAAkB,CAACC,SAAD,EAAYC,SAAZ,EAAuB;AACrCL,IAAAA,OAAO,CAACC,GAAR,CAAY,qBAAZ;AACAD,IAAAA,OAAO,CAACC,GAAR,CAAYG,SAAZ;AACAJ,IAAAA,OAAO,CAACC,GAAR,CAAYI,SAAZ;AACAL,IAAAA,OAAO,CAACC,GAAR,CAAY,uBAAuB,KAAKT,KAAL,CAAWU,YAA9C;AACAF,IAAAA,OAAO,CAACC,GAAR,CAAY,uBAAuB,KAAKT,KAAL,CAAWc,WAAX,CAAuBC,KAAvB,CAA6BC,MAA7B,CAAoClB,EAAvE,EALqC,CAMrC;;AACA,QAAI,KAAKE,KAAL,CAAWc,WAAX,CAAuBC,KAAvB,CAA6BC,MAA7B,CAAoClB,EAApC,KAA2C,KAAKE,KAAL,CAAWU,YAA1D,EAAwE;AACpEF,MAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ,EADoE,CAEpE;AACH;AACJ;;AAEDQ,EAAAA,MAAM,GAAE;AACJ,wBACI;AAAS,MAAA,SAAS,EAAC,UAAnB;AAAA,8BACI;AAAI,QAAA,SAAS,EAAC,eAAd;AAAA,mBACK,KAAKtB,KAAL,CAAWC,aAAX,CAAyBsB,MAD9B;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,eAII,QAAC,YAAD;AAAc,QAAA,UAAU,EAAE1B;AAA1B;AAAA;AAAA;AAAA;AAAA,cAJJ,EAKK,KAAKG,KAAL,CAAWC,aAAX,CAAyBuB,GAAzB,CAA6B,CAACC,OAAD,EAAUC,KAAV,kBAC1B,QAAC,cAAD;AAAgB,QAAA,aAAa,EAAED;AAA/B,SAA6C,aAAaC,KAA1D;AAAA;AAAA;AAAA;AAAA,cADH,CALL;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ;AAWH;;AA5CkD","sourcesContent":["import React, { Component } from 'react';\nimport PostedComments from './PostedComments';\nimport './comment-section.scss';\nimport CommentsForm from './CommentsForm';\nimport avatar from '../../../assets/images/Mohan-muruge.jpg';\nimport axios from 'axios';\n\nexport default class CommentsSection extends Component {\n    state = {\n        videoComments: []\n    }\n\n    fetchVideoComments(id) {\n        axios.get('https://project-2-api.herokuapp.com/videos/' + id + '?api_key=' + this.props.apiKey)\n        .then(results => {\n            this.setState({\n                videoComments: results.data.comments\n            })\n        })\n    }\n\n    componentDidMount() {\n        console.log('comments did mount');\n        this.fetchVideoComments(this.props.currentVideo)\n    }\n\n    componentDidUpdate(prevProps, prevState) {\n        console.log('comments did update');\n        console.log(prevProps)\n        console.log(prevState)\n        console.log('currentvideo prop ' + this.props.currentVideo)\n        console.log('currentmatch prop ' + this.props.routerProps.match.params.id)\n        //console.log(prevState)\n        if (this.props.routerProps.match.params.id === this.props.currentVideo) {\n            console.log('id matches')\n            //this.fetchVideoComments(this.props.currentVideo)\n        }\n    }\n\n    render(){\n        return(\n            <section className=\"comments\">\n                <h3 className=\"comment-total\">\n                    {this.state.videoComments.length} Comments\n                </h3>\n                <CommentsForm formAvatar={avatar}/>\n                {this.state.videoComments.map((element, index) =>\n                    <PostedComments videoComments={element} key={'comments' + index} />)}\n            </section>\n        )\n\n    }\n}"]},"metadata":{},"sourceType":"module"}